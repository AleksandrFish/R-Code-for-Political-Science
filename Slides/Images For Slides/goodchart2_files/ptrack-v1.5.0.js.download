/*! parsely-js-api - v1.5.0 - 2020-03-25
 * http://www.parsely.com/
 * 2020 Parsely, Inc. */

!function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,o,r,s,a=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(r=u.length,n=0;n<r;n+=1)s[n]=str(n,u)||"null";return o=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;n<r;n+=1)"string"==typeof(i=rep[n])&&(o=str(i,u))&&s.push(quote(i)+(gap?": ":":")+o);else for(i in u)Object.hasOwnProperty.call(u,i)&&(o=str(i,u))&&s.push(quote(i)+(gap?": ":":")+o);return o=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,o}}this.PARSELY||(this.PARSELY={});var root=this.PARSELY;root.JSON||(root.JSON=window.JSON||{}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof root.JSON.stringify&&(root.JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof root.JSON.parse&&(root.JSON.parse=function(text,reviver){function walk(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.hasOwnProperty.call(o,n)&&((i=walk(o,n))!==undefined?o[n]=i:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){this.PARSELY||(this.PARSELY={});var e=this.PARSELY,t=!1,n=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;e.Class=function(){},e.Class.extend=function(e){function i(){!t&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;t=!0;var r=new this;t=!1;for(var s in e)r[s]="function"==typeof e[s]&&"function"==typeof o[s]&&n.test(e[s])?function(e,t){return function(){var n=this._super;this._super=o[e];var i=t.apply(this,arguments);return this._super=n,i}}(s,e[s]):e[s];return i.prototype=r,i.constructor=i,i.extend=arguments.callee,i}}(),function(e,t){"undefined"==typeof PARSELY&&(PARSELY={}),"object"==typeof module&&"object"==typeof module.exports?(module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)},PARSELY.$=PARSELY.jQuery=t(e,!0)):PARSELY.$=PARSELY.jQuery=t(e,!1)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=v.type(e);return"function"!==n&&!v.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e){var t;for(t in e)if(("data"!==t||!v.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(e,t,n,i){if(v.acceptData(e)){var o,r,s=v.expando,a=e.nodeType,u=a?v.cache:e,d=a?e[s]:e[s]&&s;if(d&&u[d]&&(i||u[d].data)||n!==undefined||"string"!=typeof t)return d||(d=a?e[s]=c.pop()||v.guid++:s),u[d]||(u[d]=a?{}:{"toJSON":v.noop}),"object"!=typeof t&&"function"!=typeof t||(i?u[d]=v.extend(u[d],t):u[d].data=v.extend(u[d].data,t)),r=u[d],i||(r.data||(r.data={}),r=r.data),n!==undefined&&(r[v.camelCase(t)]=n),"string"==typeof t?null==(o=r[t])&&(o=r[v.camelCase(t)]):o=r,o}}function r(){return!0}function s(){return!1}function a(){try{return b.activeElement}catch(e){}}function u(e,t,n,i){var o;if(v.isArray(t))v.each(t,function(t,o){n||L.test(e)?i(e,o):u(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==v.type(t))i(e,t);else for(o in t)u(e+"["+o+"]",t[o],n,i)}var c=[],d=c.slice,l=(c.concat,c.push),f=(c.indexOf,{}),p=f.toString,g=f.hasOwnProperty,h={},y="1.11.1 -deprecated,-css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl",v=function(e,t){return new v.fn.init(e,t)},m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,x=/^-ms-/,S=/-([\da-z])/gi,_=function(e,t){return t.toUpperCase()};v.fn=v.prototype={"jquery":y,"constructor":v,"selector":"","length":0,"toArray":function(){return d.call(this)},"get":function(e){return null!=e?e<0?this[e+this.length]:this[e]:d.call(this)},"pushStack":function(e){var t=v.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},"each":function(e,t){return v.each(this,e,t)},"map":function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},"slice":function(){return this.pushStack(d.apply(this,arguments))},"first":function(){return this.eq(0)},"last":function(){return this.eq(-1)},"eq":function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},"end":function(){return this.prevObject||this.constructor(null)},"push":l,"sort":c.sort,"splice":c.splice},v.extend=v.fn.extend=function(){var e,t,n,i,o,r,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(o=arguments[a]))for(i in o)e=s[i],s!==(n=o[i])&&(c&&n&&(v.isPlainObject(n)||(t=v.isArray(n)))?(t?(t=!1,r=e&&v.isArray(e)?e:[]):r=e&&v.isPlainObject(e)?e:{},s[i]=v.extend(c,r,n)):n!==undefined&&(s[i]=n));return s},v.extend({"expando":"jQuery"+(y+Math.random()).replace(/\D/g,""),"isReady":!0,"error":function(e){throw new Error(e)},"noop":function(){},"isFunction":function(e){return"function"===v.type(e)},"isArray":Array.isArray||function(e){return"array"===v.type(e)},"isWindow":function(e){return null!=e&&e==e.window},"isNumeric":function(e){return!v.isArray(e)&&e-parseFloat(e)>=0},"isEmptyObject":function(e){var t;for(t in e)return!1;return!0},"isPlainObject":function(e){var t;if(!e||"object"!==v.type(e)||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(h.ownLast)for(t in e)return g.call(e,t);for(t in e);return t===undefined||g.call(e,t)},"type":function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[p.call(e)]||"object":typeof e},"camelCase":function(e){return e.replace(x,"ms-").replace(S,_)},"nodeName":function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},"each":function(e,t,i){var o=0,r=e.length,s=n(e);if(i){if(s)for(;o<r&&!1!==t.apply(e[o],i);o++);else for(o in e)if(!1===t.apply(e[o],i))break}else if(s)for(;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},"trim":function(e){return null==e?"":(e+"").replace(m,"")},"makeArray":function(e,t){var i=t||[];return null!=e&&(n(Object(e))?v.merge(i,"string"==typeof e?[e]:e):l.call(i,e)),i},"guid":1,"now":function(){return+new Date},"support":h}),v.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var k,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,b=e.document,w=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(v.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if((n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:w.exec(e))&&(n[1]||!t)){if(n[1]){if(t=t instanceof v?t[0]:t,v.merge(this,v.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),E.test(n[1])&&v.isPlainObject(t))for(n in t)v.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=b.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=b,this.selector=e,this}}else{if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(v.isFunction(e))return"undefined"!=typeof k.ready?k.ready(e):e(v)}return e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this)}).prototype=v.fn,k=v(b);var P,C=/\S+/g,A=typeof undefined;for(P in v(h))break;h.ownLast="0"!==P,v.acceptData=function(e){var t=v.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};v.extend({"cache":{},"noData":{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},"hasData":function(e){return!!(e=e.nodeType?v.cache[e[v.expando]]:e[v.expando])&&!i(e)},"data":function(e,t,n){return o(e,t,n)},"_data":function(e,t,n){return o(e,t,n,!0)}});!function(){var t,n,i=b.createElement("div");for(t in{"submit":!0,"change":!0,"focusin":!0})n="on"+t,(h[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),h[t+"Bubbles"]=!1===i.attributes[n].expando);i=null}();var O=/^key/,N=/^(?:mouse|pointer|contextmenu)|click/,D=/^(?:focusinfocus|focusoutblur)$/,R=/^([^.]*)(?:\.(.+)|)$/;v.event={"global":{},"add":function(e,t,n,i,o){var r,s,a,u,c,d,l,f,p,g,h,y=v._data(e);if(y){for(n.handler&&(n=(u=n).handler,o=u.selector),n.guid||(n.guid=v.guid++),(s=y.events)||(s=y.events={}),(d=y.handle)||((d=y.handle=function(e){return typeof v===A||e&&v.event.triggered===e.type?undefined:v.event.dispatch.apply(d.elem,arguments)}).elem=e),a=(t=(t||"").match(C)||[""]).length;a--;)p=h=(r=R.exec(t[a])||[])[1],g=(r[2]||"").split(".").sort(),p&&(c=v.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=v.event.special[p]||{},l=v.extend({"type":p,"origType":h,"data":i,"handler":n,"guid":n.guid,"selector":o,"needsContext":o&&v.expr.match.needsContext.test(o),"namespace":g.join(".")},u),(f=s[p])||((f=s[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,i,g,d)||(e.addEventListener?e.addEventListener(p,d,!1):e.attachEvent&&e.attachEvent("on"+p,d))),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,l):f.push(l),v.event.global[p]=!0);e=null}},"trigger":function(t,n,i,o){var r,s,a,u,c,d,l,f=[i||b],p=g.call(t,"type")?t.type:t,h=g.call(t,"namespace")?t.namespace.split("."):[];if(a=d=i=i||b,3!==i.nodeType&&8!==i.nodeType&&!D.test(p+v.event.triggered)&&(p.indexOf(".")>=0&&(p=(h=p.split(".")).shift(),h.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[v.expando]?t:new v.Event(p,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=i),n=null==n?[t]:v.makeArray(n,[t]),c=v.event.special[p]||{},o||!c.trigger||!1!==c.trigger.apply(i,n))){if(!o&&!c.noBubble&&!v.isWindow(i)){for(u=c.delegateType||p,D.test(u+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),d=a;d===(i.ownerDocument||b)&&f.push(d.defaultView||d.parentWindow||e)}for(l=0;(a=f[l++])&&!t.isPropagationStopped();)t.type=l>1?u:c.bindType||p,(r=(v._data(a,"events")||{})[t.type]&&v._data(a,"handle"))&&r.apply(a,n),(r=s&&a[s])&&r.apply&&v.acceptData(a)&&(t.result=r.apply(a,n),!1===t.result&&t.preventDefault());if(t.type=p,!o&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(f.pop(),n))&&v.acceptData(i)&&s&&i[p]&&!v.isWindow(i)){(d=i[s])&&(i[s]=null),v.event.triggered=p;try{i[p]()}catch(y){}v.event.triggered=undefined,d&&(i[s]=d)}return t.result}},"dispatch":function(e){e=v.event.fix(e);var t,n,i,o,r,s=[],a=d.call(arguments),u=(v._data(this,"events")||{})[e.type]||[],c=v.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=v.event.handlers.call(this,e,u),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,(n=((v.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a))!==undefined&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},"handlers":function(e,t){var n,i,o,r,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(o=[],r=0;r<a;r++)o[n=(i=t[r]).selector+" "]===undefined&&(o[n]=i.needsContext?v(n,this).index(u)>=0:v.find(n,this,null,[u]).length),o[n]&&o.push(i);o.length&&s.push({"elem":u,"handlers":o})}return a<t.length&&s.push({"elem":this,"handlers":t.slice(a)}),s},"fix":function(e){if(e[v.expando])return e;var t,n,i,o=e.type,r=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=N.test(o)?this.mouseHooks:O.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new v.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=r.srcElement||b),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},"props":"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),"fixHooks":{},"special":{"load":{"noBubble":!0},"focus":{"trigger":function(){if(this!==a()&&this.focus)try{return this.focus(),!1}catch(e){}},"delegateType":"focusin"},"blur":{"trigger":function(){if(this===a()&&this.blur)return this.blur(),!1},"delegateType":"focusout"}}},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?r:s):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={"isDefaultPrevented":s,"isPropagationStopped":s,"isImmediatePropagationStopped":s,"stopPropagation":function(){var e=this.originalEvent;this.isPropagationStopped=r,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},"stopImmediatePropagation":function(){var e=this.originalEvent;this.isImmediatePropagationStopped=r,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},v.fn.extend({"on":function(e,t,n,i,o){var r,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(r in e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=undefined):null==i&&("string"==typeof t?(i=n,n=undefined):(i=n,n=t,t=undefined)),!1===i)i=s;else if(!i)return this;return 1===o&&(a=i,(i=function(e){return v().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,n,t)})},"trigger":function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},"triggerHandler":function(e,t){var n=this[0];if(n)return v.event.trigger(e,t,n,!0)}});h.getSetAttribute,h.input;v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var j=/%20/g,L=/\[\]$/;v.param=function(e,t){var n,i=[],o=function(e,t){t=v.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=v.ajaxSettings&&v.ajaxSettings.traditional),v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){o(this.name,this.value)});else for(n in e)u(n,e[n],t,o);return i.join("&").replace(j,"+")};var T=e.jQuery,I=e.$;return v.noConflict=function(t){return e.$===v&&(e.$=I),t&&e.jQuery===v&&(e.jQuery=T),v},typeof t===A&&(e.jQuery=e.$=v),v}),function(){this.PARSELY=this.PARSELY||{};var e,t=this.PARSELY;t.util={},(e=t.util).getWindow=function(){if(t.getWindow&&"function"==typeof t.getWindow)return t.getWindow();try{return window.top.document.cookie,window.top}catch(e){try{return window.parent.document.cookie,window.parent}catch(n){return window}}},e.windowSetFunction=function(t,n){var i=e.getWindow(),o=i[t];i[t]=function(){n(),"function"==typeof o&&o()}},e.windowAddEventListener=function(e,t){var n=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{"get":function(){n=!0}}))}catch(o){}var i=!1;return n&&(i={"passive":!0,"capture":!1}),"undefined"!=typeof window.addEventListener?window.addEventListener(e,t,i):"undefined"!=typeof document.attachEvent&&document.attachEvent("on"+e,t)},e.objAddEventListener=function(e,t,n,i){return i=void 0!==i&&i,"undefined"!=typeof e.addEventListener?e.addEventListener(t,n,i):"undefined"!=typeof e.attachEvent&&e.attachEvent("on"+t,n)},e.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.getEventUrl=function(){return t.config.eventUrl?t.config.eventUrl:t.lastRequest?t.lastRequest.url:e.getWindow().location.href},e.isSafari=function(){return navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")},e.isFirefox=function(){return"undefined"!=typeof InstallTrigger},e.makeUUID=function(){return"pid=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/x/g,function(){return(16*Math.random()|0).toString(16)})}}(),function(e){"use strict";e.Cookies=function(t){var n=function(e,t,i){return 1===arguments.length?n.get(e):n.set(e,t,i)};return n._document=t.document,n._cacheKeyPrefix="cookey.",n._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),n.defaults={"path":"/","secure":!1},n.get=function(e){return n._renewCache(),n._cache[n._cacheKeyPrefix+e]},n.getJSON=function(t){var i=n.get(t);return i===undefined?i:e.JSON.parse(i)},n.set=function(t,i,o){(o=n._getExtendedOptions(o)).expires=n._getExpiresDate(i===undefined?-1:o.expires);try{n._document.cookie=n._generateCookieString(t,i,o)}catch(r){e.console.log(r)}return n},n.setJSON=function(t,i,o){return n.set(t,e.JSON.stringify(i),o),n},n.extendExpiry=function(e,t){var i=n.get(e);if(i===undefined)return!1;n.set(e,i,t)},n.expire=function(e,t){if(e.constructor!==Array)return n.set(e,undefined,t);for(var i=0;i<e.length;i++)n.set(e[i],undefined,t)},n._getExtendedOptions=function(e){return{"path":e&&e.path||n.defaults.path,"domain":e&&e.domain||n.defaults.domain,"expires":e&&e.expires||n.defaults.expires,"secure":e&&e.secure!==undefined?e.secure:n.defaults.secure}},n._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},n._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e?e=e===Infinity?n._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!n._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},n._generateCookieString=function(t,i,o){t=(t=t.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"),i=(i+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent);var r=(o=o||{}).domain||e.cookieDomain||n._autoCookieDomain,s=t+"="+i;return s+=o.path?";path="+o.path:"",s+=r?";domain="+r:"",s+=o.expires?";expires="+o.expires.toUTCString():"",s+=o.secure?";secure":""},n._getCacheFromString=function(e){for(var t={},i=e?e.split("; "):[],o=0;o<i.length;o++){var r=n._getKeyValuePairFromCookieString(i[o]);if(null!=r){var s=n._cacheKeyPrefix+r.key;t[s]===undefined&&(t[s]=r.value)}}return t},n._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var n=e.substr(0,t),i=e.substr(t+1);try{n=decodeURIComponent(n),i=decodeURIComponent(i)}catch(o){return null}return{"key":n,"value":i}},n._renewCache=function(){try{n._cachedDocumentCookie!==n._document.cookie&&(n._cache=n._getCacheFromString(n._document.cookie),n._cachedDocumentCookie=n._document.cookie)}catch(t){e.console.log(t)}},n._isValidDomain=function(e){var t="cookies.js_dtest",i="1"===n.set(t,1,{"domain":e}).get(t);return n.expire(t,{"domain":e}),i},n._getAutoCookieDomain=function(){var t=e.util.getWindow().location.hostname;if(!isNaN(parseInt(t.replace(".",""),10)))return n._isValidDomain(t)?t:null;var i=t.split(".");if(1===i.length)return t;for(var o,r=2;r<=i.length;r++){var s=i.slice(-r).join(".");if(n._isValidDomain(s)){o=s;break}}return o||t},n._autoCookieDomain=n._getAutoCookieDomain(),n}(e.util.getWindow())}(this.PARSELY),function(e){"use strict";var t=function(){};t.prototype=function(){var t=function(e,n,i){return 1===arguments.length?t.get(e):t.set(e,n,i)};t._keyPrefix="pStore-",t._delimiter="|^";try{t._store=e.util.getWindow().localStorage}catch(n){t._store=undefined}return t._baseDomain=null,t.get=function(e){t._migrateCookie(e);var n=t._store[t._keyPrefix+e];if(void 0===n)return undefined;try{n=t._deserialize(n)}catch(o){return console.log("Error deserializing stored data for key "+e),t.expire(e),undefined}if("undefined"!=typeof n.expires){var i=parseInt(n.expires,10);if(!isNaN(i)&&(new Date).getTime()>i)return t.expire(e),undefined}return n.value},t.getJSON=function(n){var i=t.get(n);return void 0===i?i:e.JSON.parse(i)},t.set=function(n,i,o){var r=t._keyPrefix+n;if(void 0===i)return delete t._store[r],t;o=e.Cookies._getExtendedOptions(o);var s,a=e.Cookies._getExpiresDate(o.expires);void 0!==a&&(a=a.getTime());try{s=t._serialize({"value":i,"expires":a})}catch(u){return console.log("Error serializing stored data for key "+n),t}return t._store[r]=s,t},t.setJSON=function(n,i,o){return t.set(n,e.JSON.stringify(i),o),t},t.extendExpiry=function(e,n){var i=t.get(e);if(void 0===i)return!1;t.set(e,i,n)},t.expire=function(e,n){return t.set(e,undefined,n)},t._serialize=function(e){return e.value+t._delimiter+e.expires},t._deserialize=function(e){var n=e.split(t._delimiter),i={"value":n[0]};return n.length>1&&(i.expires=n[1]),i},t._migrateCookie=function(n){var i=e.Cookies.get(n);if(e.Cookies.expire(n),void 0!==i){var o=e.ParselyStorage.defaults[n],r={};void 0!==o&&(r.expires=o),t.set(n,i,r)}},{"constructor":t,"get":t.get,"getJSON":t.getJSON,"set":t.set,"setJSON":t.setJSON,"extendExpiry":t.extendExpiry,"expire":t.expire}}();var n=function(){};n.prototype=function(){var n=new t,i=function(){var t=n._keyPrefix;try{return e.util.getWindow().localStorage.setItem(t,t),e.util.getWindow().localStorage.removeItem(t),!0}catch(i){return!1}}()&&function(){var t=!1,n=e.Cookies.get("_parsely_visitor");return void 0!==n&&"{"!==n.charAt(0)&&(t=!0),!!e.util.isSafari()||!0===e.use_localstorage&&!t}()?n:e.Cookies;return{"supportsCookies":"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1),"get":i.get,"getJSON":i.getJSON,"set":i.set,"setJSON":i.setJSON,"extendExpiry":i.extendExpiry,"expire":i.expire,"defaults":{"visitor":{"key":"_parsely_visitor","expires":34164e3,"secure":!1},"session":{"key":"_parsely_session","expires":1800,"secure":!1}}}}(),e.ParselyStorage=new n}(this.PARSELY),function(){var e=this.PARSELY,t=e.Class,n=e.ParselyStorage,i=e.console,o=e.JSON,r=["id"],s=t.extend({"init":function(){this.visitorCookieName=e.visitorCookieName||n.defaults.visitor.key,this.visitorCookieTimeoutSecs=e.visitorCookieTimeoutSecs||n.defaults.visitor.expires,this.visitorCookieSecure=e.visitorCookieSecure||n.defaults.visitor.secure,this.legacyVisitorCookieName=e.legacyVisitorCookieName||"parsely_uuid"},"getVisitorInfo":function(t){t=t||!1;var r=n.get(this.visitorCookieName);if(void 0===r){var s=n.get(this.legacyVisitorCookieName),a=e.config.apikey_uuid||e.config.uuid;!1!==e.optout_disabled_cookies&&void 0===s&&!1===n.supportsCookies&&(s="OPTOUT",i.log("Setting visitor ID to OPTOUT")),void 0===s&&null!==a?(s=a,i.log("No existing visitor ID found, using UUID from config: "+s)):i.log("Using existing value for visitor ID: "+s),r=this.initVisitor(s),n.expire("parsely_uuid")}else{var u=!1;try{r=o.parse(r),u=!0}catch(c){i.log('Unable to JSON parse visitorInfo "'+r+'", assuming ampid.'),r=this.initVisitor(r)}u&&t&&this.extendVisitorExpiry()}return e.config.parsely_site_uuid=r.id,r},"initVisitor":function(e){return this.setVisitorInfo({"id":e,"session_count":0,"last_session_ts":0})},"setVisitorInfo":function(e){for(var t=0;t<r.length;t++){var i=r[t];if("undefined"==typeof e[i]||null===e[i])return!1}return n.setJSON(this.visitorCookieName,e,{"expires":this.visitorCookieTimeoutSecs,"secure":this.visitorCookieSecure}),e},"extendVisitorExpiry":function(){n.extendExpiry(this.visitorCookieName,{"expires":this.visitorCookieTimeoutSecs,"secure":this.visitorCookieSecure})}});e.visitorManager=new s}(),function(){var e=this.PARSELY,t=e.util,n=e.Class,i=e.ParselyStorage,o=e.console,r=e.visitorManager,s=n.extend({"init":function(){this.windowAlias=t.getWindow(),this.documentAlias=this.windowAlias.document,this.sessionCookieName=e.sessionCookieName||i.defaults.session.key,this.sessionCookieTimeoutSecs=i.defaults.session.expires,this.sessionCookieSecure=e.sessionCookieSecure||i.defaults.session.secure,o.log("Initializing session."),this.getSession(!1)},"getSession":function(n){n=n||!1;var s=r.getVisitorInfo(),a=i.getJSON(this.sessionCookieName);if(void 0===a){var u,c;!1===s?(u=1,c=0):(s.session_count++,u=s.session_count,c=s.last_session_ts);var d=new Date;a={"sid":u,"surl":t.getEventUrl(),"sref":e.lastRequest?e.lastRequest.urlref:this.documentAlias.referrer,"sts":d.getTime(),"slts":c},o.log("Session expired/never existed, creating new session with "+this.sessionCookieTimeoutSecs+"s timeout: "+e.JSON.stringify(a)),i.setJSON(this.sessionCookieName,a,{"expires":this.sessionCookieTimeoutSecs,"secure":this.sessionCookieSecure}),s.last_session_ts=a.sts,r.setVisitorInfo(s)}else n&&this.extendSessionExpiry();return a},"extendSessionExpiry":function(){i.extendExpiry(this.sessionCookieName,{"expires":this.sessionCookieTimeoutSecs,"secure":this.sessionCookieSecure})}});e.sessionManager=new s}(),function(){var e=this.PARSELY,t=e.$,n=e.Class,i=e.JSON,o=e.console,r=e.config,s=e.urls,a=e.visitorManager,u=e.sessionManager,c=e.ParselyStorage,d=e.util.getWindow(),l=d.document,f=d.screen;PARSELY.Pixel=n.extend({"init":function(){var t=e.util.getEventUrl(),n=f.width+"x"+f.height+"|"+(f.availWidth+"x"+f.availHeight)+"|"+f.colorDepth;this.correlationIds={"pageview":"pvid","videostart":"vsid"},this.callbackName="parselyStartCallback",this.dashDomains=["https://dash.parsely.com","https://beta.parsely.com"],this.data={"idsite":r.apikey,"url":t,"urlref":l.referrer,"screen":n,"data":{}},r.hasOwnProperty("is_remote_config")&&!0!==r.is_remote_config||(this.data.data.parsely_uuid=r.network_uuid||r.uuid,this.data.data.parsely_site_uuid=r.parsely_site_uuid),this.remoteEndpoint=s.pixel+this.selectEndpoint(),this.thirdPartyBlockedCookieSettings={"name":"_parsely_tpa_blocked","timeoutSecs":43200,"flagAttribute":"tpab"}},"selectEndpoint":function(){var t=!1===e.is_first_party&&!0===r.track_third_party_cookies;return r.hasOwnProperty("is_remote_config")&&!1===r.is_remote_config?!1===r.track_ip_addresses?t?"/eventx/":"/px/":t?"/event/":"/plogger/":!1===r.track_ip_addresses?"/px/":"/plogger/"},"isThirdPartyAnalyticsBlocked":function(){if(!e.is_first_party)return undefined;var t=this.thirdPartyBlockedCookieSettings,n=c.getJSON(t.name);if(void 0!==n&&(this.third_party_analytics_is_blocked=n[t.flagAttribute]),"undefined"==typeof this.third_party_analytics_is_blocked&&"undefined"==typeof this.third_party_analytics_checked){this.third_party_analytics_checked=!0;var i=this,o=function(e){i.third_party_analytics_is_blocked=e;var n={};n[t.flagAttribute]=e,c.setJSON(t.name,n,{"expires":t.timeoutSecs})},r=new Image;r.onerror=function(){o(!0)},r.onload=function(){o(!1)},r.src="https://srv-1970-01-01-00.pixel.parsely.com/plogger/"}return this.third_party_analytics_is_blocked},"addDefaults":function(e){t.extend(!0,this.data,e)},"shouldFetchVisitorID":function(t){return!(!r.hasOwnProperty("is_remote_config")||!0===r.is_remote_config)&&(!1!==r.track_third_party_cookies&&(!t||!!e.updateVisitorIds&&0!==t.indexOf("pid=")))},"shouldGenerateVisitorID":function(e){return!(!r.hasOwnProperty("is_remote_config")||!0===r.is_remote_config)&&(!0!==r.track_third_party_cookies&&!e)},"saveVisitorID":function(e){var t=u.getSession(),n={"id":e,"session_count":t.sid,"last_session_ts":t.sts};c.setJSON(a.visitorCookieName,n,{"expires":a.visitorCookieTimeoutSecs,"secure":a.visitorCookieSecure}),u.getSession()},"generateVisitorID":function(){r.uuid=e.util.makeUUID(),this.saveVisitorID(r.uuid)},"sendEventAndFetchVisitorID":function(e){var n=this;d[this.callbackName]=function(i){r.uuid=i.set.length>0?i.set:i.got,n.saveVisitorID(r.uuid),t.isFunction(PARSELY.onBeacon)&&PARSELY.onBeacon(e)},e.callback=this.callbackName;var i=t.param(e),a=!1===r.track_ip_addresses?"x":"",u=s.pixel+"/start"+a+"/?"+i;o.log("beaconing to endpoint: "+u);var c=document.createElement("script");c.src=u,l.getElementsByTagName("head")[0].appendChild(c)},"sendEvent":function(n,i){o.log("beaconing to endpoint: "+this.remoteEndpoint),n.u=i,(new Image).src=this.buildEventRequestUrl(n),t.isFunction(e.onBeacon)&&e.onBeacon(n)},"requestFetch":function(n,i){return o.log("fetching endpoint: "+this.remoteEndpoint),"undefined"!=typeof d.fetch&&(n.u=i,fetch(this.buildEventRequestUrl(n),{"method":"GET","mode":"no-cors","keepalive":!0}),t.isFunction(e.onBeacon)&&e.onBeacon(n),!0)},"buildEventRequestUrl":function(e){var n=t.param(e);return this.remoteEndpoint+"?"+n},"generatePageloadId":function(){return"undefined"==typeof e.pageload_id&&(e.pageload_id=Math.floor(99999999*Math.random())),e.pageload_id},"getCorrelationIdKey":function(e){return"_"+e+"_correlation_id"},"generateEventCorrelationId":function(t,n){var i=this.getCorrelationIdKey(t);return!0===n&&(e[i]=Math.floor(99999999*Math.random())),e[i]},"beacon":function(n,c,f){var p=u.getSession(!0),g=(new Date).getTime(),h=this.generatePageloadId()||0,y=t.extend(!0,{"rand":g,"plid":h},this.data,p,n),v=e.visitorManager.getVisitorInfo();!0===this.isThirdPartyAnalyticsBlocked()&&(y.tpab=1),a.extendVisitorExpiry();var m;for(var x in this.correlationIds)void 0!==(m=this.generateEventCorrelationId(x,x===y.action))&&(y[this.correlationIds[x]]=m);y.data=i.stringify(y.data),!0!==c&&(PARSELY.lastRequest=y),r.uuid=v.id;for(var S,_=0;_<this.dashDomains.length;_++)if(S=this.dashDomains[_],0===l.location.href.indexOf(S))try{d.postMessage(y,S)}catch(E){o.log("Failed to postMessage to Dash domain "+S)}if(this.shouldGenerateVisitorID(v.id)&&this.generateVisitorID(),!0===f&&(e.util.isFirefox()||e.util.isSafari())&&(f=!1),this.remoteEndpoint=s.pixel+this.selectEndpoint(),this.shouldFetchVisitorID(v.id))this.sendEventAndFetchVisitorID(y);else{var k=!1;!0===f&&(k=this.requestFetch(y,r.uuid)),!1===k&&this.sendEvent(y,r.uuid)}}})}(),function(){var e=this.PARSELY,t=e.$,n=e.$LAB,i=e.console,o=e.Class,r=e.JSON,s=e.ParselyStorage,a=e.util.getWindow().document;PARSELY.Beacon=o.extend({"init":function(){this.pixel=new PARSELY.Pixel},"trackPageView":function(n,o){var u={"title":a.title,"date":(new Date).toString(),"action":"pageview","url":e.util.getEventUrl(),"urlref":a.referrer};e.hasOwnProperty("metadata")&&(u.hasOwnProperty("metadata")?u.metadata=r.stringify(t.extend(u.metadata,e.metadata.get())):u.metadata=r.stringify(e.metadata.get()));var c=s.getJSON("_parsely_slot_click");c&&(s.expire("_parsely_slot_click"),i.log("Valid slot click found"),u.sl_xp=c.xpath,u.sl_x=c.x,u.sl_y=c.y,u.sl_h=c.href,c.url!==u.urlref&&i.log("urlref overridden by slot data as "+c.url),u.urlref=c.url),n&&t.extend(u,n),this.pixel.beacon(u,o)},"trackConversion":function(e){window.console.warn("[WARN] `PARSELY.beacon.trackConversion()` is being deprecated."),window.console.warn("[WARN] Please consult https://www.parse.ly/help/integration/conversions/ to update to the new Conversions js-API.");var n=["active","lead","customer"],o={"label":undefined};e&&e.category?-1===n.indexOf(e.category)?i.log("'"+e.category+"' is not a valid conversion category; must be one of: "+n.join(", ")):(t.extend(o,e),this.trackPageView({"action":"conversion","data":{"_conversion_type":e.category,"_conversion_label":e.label}})):i.log("No category specified; category required for conversion events")},"loadCustomizations":function(){if(e.config){var t=e.config.customizations;if(t){i.log("Found customizations; loading.");var o=e.urls["static"],r=this;n.script(o+t).wait(function(){"undefined"!=typeof PARSELY.pCustom&&(PARSELY.pCustom(r),i.log("pCustom function called"))})}}},"start":function(){this.startTime=(new Date).getTime(),this.autotrack="undefined"==typeof PARSELY.autotrack||PARSELY.autotrack,this.autotrack?(i.log("autotrack enabled; doing automatic pageview beacon"),this.trackPageView()):i.log("autotrack disabled; beacon loaded but no data sent"),this.loadCustomizations()}})}(),function(){var e=PARSELY.config.settings,t=PARSELY.console,n=PARSELY.$;if(PARSELY.updateDefaults=function(e){return PARSELY.beacon.pixel.addDefaults(e)},PARSELY.setConfigOptions=function(e){for(var t=["track_ip_addresses","track_third_party_cookies"],n=0;n<t.length;n++)e.hasOwnProperty(t[n])&&(PARSELY.config[t[n]]=e[t[n]])},PARSELY.initNewPage=function(){"undefined"!=typeof PARSELY.Sampler&&PARSELY.Sampler._sendHeartbeats(),"undefined"!=typeof PARSELY.engagedTime&&PARSELY.engagedTime.initNewPage(),"undefined"!=typeof PARSELY.video&&PARSELY.video.clear(),"undefined"!=typeof PARSELY.slots&&PARSELY.slots.reset(),delete PARSELY.lastRequest,PARSELY.beacon.start(),PARSELY.autotrack&&PARSELY.video&&!1!==PARSELY.video.autotrack&&PARSELY.video.detectVideos()},e.tracker){t.log("tracker enabled, create Beacon");var i=new PARSELY.Beacon;PARSELY.beacon=i,i.start(),n.isFunction(PARSELY.onReady)&&PARSELY.onReady()}try{if("undefined"!=typeof Storage&&localStorage.getItem("parsely-overlay")){var o=document.createElement("script");o.setAttribute("src","https://dash.parsely.com/static/build/overlay.js?v="+(new Date).getTime()),document.body.appendChild(o)}}catch(r){PARSELY.console.log(r)}}();