function debounce(t,e,i){var a;return function(){var n=this,r=arguments,o=function(){a=null,i||t.apply(n,r)},l=i&&!a;clearTimeout(a),a=setTimeout(o,e),l&&t.apply(n,r)}}var Atlas=window.Atlas||{};if(function(){Atlas.charts=Atlas.charts||[],Atlas.pollingCharts=Atlas.pollingCharts||[],Atlas.getEnv=function(){var t;Atlas.isExternal=void 0!==window.location.hostname&&""!==window.location.hostname&&-1===window.location.hostname.indexOf("qz.com")&&-1===window.location.hostname.indexOf("quartz.wo")&&-1===window.location.hostname.indexOf("quartz.l"),Atlas.isExternal||(Atlas.isQZSpecial=!(null===document.location.href.match(/[^\d{1,}](se\/quartz-index|\/index)/gi)),Atlas.isAtWork=-1!==window.location.hostname.indexOf("work.qz")||/qz.com\/work/gi.test(document.location.href),Atlas.isQuartzy=-1!==window.location.hostname.indexOf("quartzy")||/qz.com\/quartzy/gi.test(document.location.href),Atlas.isPerfectCompany2=!(null===document.location.href.match(/[^\d{1,}](se\/perfect-company-2|\/perfect-company-2)/gi)),Atlas.isShallowWaters=!(null===document.location.href.match(/[^\d{1,}](se\/shallow-waters|\/shallow-waters\/)/gi)),Atlas.isBeta=!0,Atlas.isSeries=!(null===document.querySelector('#site-content > div > h2 > a[href*="se"]')),t=["","india","africa"],Atlas.isBetaHome=Atlas.isBeta&&!Atlas.isAtWork&&!Atlas.isQuartzy&&t.indexOf(document.location.pathname.replace(/\//gi,""))>-1),Atlas.iOSVersion=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1,Atlas.iOSChrome=!!Atlas.iOSVersion&&-1!==navigator.userAgent.indexOf("CriOS/")},Atlas.getEnv(),Atlas.pollForViewIn=function(t){if(-1===Atlas.pollingCharts.indexOf(t)){Atlas.pollingCharts.push(t);var e=window.setInterval(function(){var i=t.getBoundingClientRect(),a=i.top+i.height/2<window.innerHeight;if(a&&t.contentWindow){var n={eventType:"viewIn",parentWidth:window.innerWidth,parentHeight:window.innerHeight,parentUrl:window.location.href,parentReferrer:document.referrer};t.contentWindow.postMessage(n,"*"),window.clearInterval(e)}},500)}},Atlas.parse=function(t){var e,i,a,n,r,o,l=t||document,s=l.getElementsByClassName("atlas-chart"),d="";for(Atlas.getEnv(),a=0,o=s.length;o>a;a++)if(i=s[a],Atlas.charts.indexOf(i)<0){if(Atlas.charts.push(i),e=document.createElement("iframe"),e.frameBorder=0,Atlas.isExternal){d="?style=Ym9yZGVyPXRoaW4mcGFkZGluZz0yMHB4JmJhY2tncm91bmQtY29sb3I9d2hpdGU=";var c="undefined"==typeof window.orientation?40:20;d+="&width="+(i.getBoundingClientRect().width-c)}if(Atlas.isQZSpecial&&(d="?style=Ym9yZGVyPW5vbmUmcGFkZGluZz0xcmVtJmJhY2tncm91bmQtY29sb3I9cXVhcnR6LWdyYXkmdGl0bGU9bm9uZQ=="),Atlas.isBeta&&(d="?style=dGhlbWU9djU="),Atlas.isAtWork&&(d="?style=dGhlbWU9YXQtd29yaw=="),Atlas.isQuartzy&&(d="?style=dGhlbWU9cXVhcnR6eQ=="),Atlas.isQuartzy&&Atlas.isBeta&&(d="?style=dGhlbWU9cXVhcnR6eQ==&theme=v5"),Atlas.isBeta&&Atlas.isBetaHome&&(d="?style=dGhlbWU9djU=&context=home"),Atlas.isShallowWaters&&(d="?style=dGhlbWU9djU=&context=shallow-waters"),Atlas.isPerfectCompany2&&(d="?style=Ym9yZGVyPW5vbmUmcGFkZGluZz0xcmVtJmJhY2tncm91bmQtY29sb3I9cXVhcnR6LWdyYXk="),Atlas.isSeries){d="?style=dGhlbWU9djU=&context=series";var h=i.getBoundingClientRect().width,c="undefined"==typeof window.orientation?60:40;d+="&width="+(h-c)}if(null!==i.getAttribute("data-style")&&(d="?style="+i.getAttribute("data-style")),Atlas.isExternal||!Atlas.iOSVersion||Atlas.iOSChrome||(d+="&iOS="+Atlas.iOSVersion.toString()),n=i.getAttribute("data-id"),!n){if(r=i.querySelector("img"),!r)return;n=r.src.split("/i/")[1].replace(/atlas_|\.png/gi,"")}e.src="https://www.theatlas.com/embed/"+n+d,e.setAttribute("width","100%"),e.setAttribute("height",0),i.appendChild(e)}},Atlas.updateHeight=function(t,e){var i=document.querySelectorAll('.atlas-chart[data-id="'+t+'"]');i=i.length?i[0]:document.querySelector(".atlas-chart");var a=i.querySelector("img");i.querySelector("iframe").height=Atlas.isExternal?e+1:e,a&&a.parentNode.removeChild(a)},Atlas.parse()}(),window.addEventListener("message",function(t){var e,i={};if("https://www.theatlas.com"===t.origin||-1!==t.origin.search(/theatlas.com\b/)){try{i=JSON.parse(t.data)}catch(a){}"undefined"!=typeof i.action&&"updateHeight"===i.action&&"undefined"!=typeof i.chartId&&"undefined"!=typeof i.height&&(e=Atlas.isExternal===!0?parseInt(i.height,10):i.height,Atlas.updateHeight(i.chartId,e))}},!1),void 0!==typeof window&&"undefined"!=typeof window.orientation){var lastOrientation=window.orientation,resizer=debounce(function(t){if(window.orientation!==lastOrientation){lastOrientation=window.orientation;var e=document.querySelectorAll("div.atlas-chart");Array.prototype.forEach.call(e,function(t,e){var i=(t.getAttribute("data-id"),t.querySelector("iframe")),a=i.src;if(-1!==a.indexOf("width=")){var n=a.match(/width=[\d]*\b/gi)[0],r=t.getBoundingClientRect().width-20;a=a.replace(n,"width="+r)}else i.src="";i.src=a})}},500);window.addEventListener("resize",resizer,!1)}if(void 0!==typeof window&&"undefined"==typeof window.orientation){var currentCharts=document.querySelectorAll("div.atlas-chart"),oldWidths={};Array.prototype.forEach.call(currentCharts,function(t,e){return oldWidths[e]=t.getBoundingClientRect().width});var resizer=debounce(function(t){Array.prototype.forEach.call(currentCharts,function(t,e){var i=t.querySelector("iframe"),a=i.src;if(t.getBoundingClientRect().width!==oldWidths[e]&&-1!==a.indexOf("width=")){var n=a.match(/width=[\d]*\b/gi)[0],r=t.getBoundingClientRect().width-40;a=a.replace(n,"width="+r),i.src=a,oldWidths[e]=r}})},500);window.addEventListener("resize",resizer,!1)}